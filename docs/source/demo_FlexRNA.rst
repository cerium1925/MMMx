.. _demo_FlexRNA:

Demo FlexRNA
==========================

This example generates logfile ``demo_FlexRNA.log``. The logfile is automatically displayed after completion by the ``#report`` directive at the end.

Modules used
---------------------------------

Modules ``Prepare``, ``FlexRNA``, and ``YasaraRefine`` are used.

Functionality
---------------------------------

This example excises dlexible RNA linkers from a model of the RsmE/RsmZ complex, regenerates them by FlexRNA, and refines the model by calling Yasara.   

First, the prepare module is used to generate a template containing only the copies of the RsmE protein, the RNA stemloops of RsmZ, and a short piece of an RNA linker that is bound to an RsmE molecule.
To this end, structure ``2MF1`` is downloaded from the PDB and stored in entity ``RSM0``. The six RsmE copies are chains A-F, residues 1-59. They are extracted from the first model ``{1}`` of this NMR structure ensemble.
The stemloops and linker piece are extracted from chain G of this model. All these parts are merged into entity ``RSM1``. This entity is then saved to file ``Rsme_Rsmz_rigid_bodies.pbd`` with pseudo-PDB identifier ``RSM1``.

In order to regenerate the four excised short flexible RNA linkers, ``FlexRNA`` is called four times. Each call specifies 75% coverage of the conformation space, generation of one model per template, and a maximum computation time of 0.1 h. 
In the first call, the input read by ``addpdb`` is the rigid-body file generated by the previous ``Prepare`` block.
The sequence ``ACAG`` of the missing nucleotides 16-19 is specified and the 5'-anchor ``(I)15`` and 3'-anchor ``(G)20`` are specified as well.
The output PDB file is saved with basis name ``RsmE_RsmZ_SL1_SL2``. This example does not specify distance distribution restraints for the RNA.

In the second call, the ``addpdb`` statement refers to the output of the first call. This requires a wildcard filename ``RsmE_RsmZ_SL1_SL2_*.pdb``.
The 5'-anchor nucleotide, which would have been ``(G)35`` in the rigid-body file save by ``Prepare`` must be referred to as ``(I)35``.
This is because the previous ``FlexRNA`` module linked chains ``(I)`` and ``(G)`` and, since the first piece was chain ``(I)``, named the resulting chain ``(I)``.

The two remaining calls of ``FlexRNA`` are analogous to the second call.

Finally, the complete model is refined by a call to YasaraRefine with maximum computatipn time of 1 h.


Outputs
---------------------------------

Outputs are the rigid-body template file ``RsmE_RsmZ_rigid_bodies.pdb`` and the PDB files of all intermediate models and of the final model.