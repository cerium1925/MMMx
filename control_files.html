

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Control files &mdash; MMMx  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="/source/_static/custom.css" type="text/css" />
  <link rel="stylesheet" href="/source/_static/theme_override.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  <link rel="stylesheet" href="_static/table_util.css" type="text/css" />
  <link rel="stylesheet" href="_static/table_main.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_override.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Log files" href="log_files.html" />
    <link rel="prev" title="MMMx|RigiFlex" href="MMMx_RigiFlex.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Ensemble structure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="functional_entity.html">Functional entity</a><ul>
<li class="toctree-l2"><a class="reference internal" href="functional_entity.html#the-object-of-interest">The object of interest</a></li>
<li class="toctree-l2"><a class="reference internal" href="functional_entity.html#structural-hierarchy">Structural hierarchy</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="structure_representation.html">Structure representation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="structure_representation.html#protein-database-pdb-format">Protein database (PDB) format</a></li>
<li class="toctree-l2"><a class="reference internal" href="structure_representation.html#pdbx-mmcif-format">PDBx/mmCIF format</a></li>
<li class="toctree-l2"><a class="reference internal" href="structure_representation.html#mmmx-internal-representations">MMMx internal representations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="MMMx_addresses.html">Selection by address</a><ul>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#topology-and-ensemble-addressing">Topology and ensemble addressing</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#chains">Chains</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#residues">Residues</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#atoms">Atoms</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#water-molecules">Water molecules</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#conformers">Conformers</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#rotamers">Rotamers</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#locations">Locations</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#programmatic-access">Programmatic access</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#changes-compared-to-mmm">Changes compared to MMM</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#correspondence-with-chimerax">Correspondence with ChimeraX</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="MMMx_atomic.html">MMMx|atomic</a><ul>
<li class="toctree-l2"><a class="reference internal" href="MMMx_atomic.html#basic-considerations">Basic considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_atomic.html#topology">Topology</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_atomic.html#conformation">Conformation</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_atomic.html#element-assignment-of-atoms">Element assignment of atoms</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_atomic.html#conversion-to-pdb-representation">Conversion to PDB representation</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_atomic.html#conversion-from-pdb-representation">Conversion from PDB representation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="MMMx_RigiFlex.html">MMMx|RigiFlex</a><ul>
<li class="toctree-l2"><a class="reference internal" href="MMMx_RigiFlex.html#basic-considerations">Basic considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_RigiFlex.html#format">Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_RigiFlex.html#conversion-to-mmmx-atomic-representation">Conversion to MMMx|atomic representation</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Modelling</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Control files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#concept">Concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="#syntax">Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="#input-and-output-specification">Input and output specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="#restraint-specification">Restraint specification</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="log_files.html">Log files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="log_files.html#concept">Concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="log_files.html#conventions">Conventions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modelling_modules.html">Modelling modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="modelling_modules.html#concept">Concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="modelling_modules.html#implementation">Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="modelling_modules.html#the-get-label-function">The <code class="docutils literal notranslate"><span class="pre">get_label</span></code> function</a></li>
<li class="toctree-l2"><a class="reference internal" href="modelling_modules.html#set-of-libraries">Set of libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="modelling_modules.html#rotamer-library-format">Rotamer library format</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Spectroscopic labels</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="rotamer_concept.html">Rotamer libraries</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rotamer_concept.html#concept">Concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="rotamer_concept.html#implementation">Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="rotamer_concept.html#the-get-label-function">The <code class="docutils literal notranslate"><span class="pre">get_label</span></code> function</a></li>
<li class="toctree-l2"><a class="reference internal" href="rotamer_concept.html#set-of-libraries">Set of libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="rotamer_concept.html#rotamer-library-format">Rotamer library format</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="distance_distributions.html">Distance distributions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="distance_distributions.html#reasons-why-distances-are-distributed">Reasons why distances are distributed</a></li>
<li class="toctree-l2"><a class="reference internal" href="distance_distributions.html#computation-of-distance-distributions">Computation of distance distributions</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Programmer's Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="object_access.html">Get object attributes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="object_access.html#concept">Concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_access.html#generic-syntax">Generic syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_access.html#chain">Chain</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_access.html#residue">Residue</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_access.html#atoms">Atoms</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_access.html#locations">Locations</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_access.html#single-conformer">Single conformer</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_access.html#coordinates-atomic-numbers-any-level">Coordinates &amp; atomic numbers (any level)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="object_modification.html">Set object attributes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="object_modification.html#concept">Concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_modification.html#generic-syntax">Generic syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_modification.html#residue">Residue</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_modification.html#atoms">Atoms</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_modification.html#locations">Locations</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_modification.html#coordinates-any-level">Coordinates (any level)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="property_functions.html">Property functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="property_functions.html#mass">Mass</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ChimeraX.html">ChimeraX</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ChimeraX.html#remarks">Remarks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="python.html">Python</a><ul>
<li class="toctree-l2"><a class="reference internal" href="python.html#remarks">Remarks</a></li>
<li class="toctree-l2"><a class="reference internal" href="python.html#current-conclusion">Current conclusion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dependencies.html">Dependencies</a></li>
</ul>
<p class="caption"><span class="caption-text">Architecture</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="concept.html">Concept</a><ul>
<li class="toctree-l2"><a class="reference internal" href="concept.html#open-source-concept">Open source concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="concept.html#separation-of-user-interface-from-computation">Separation of user interface from computation</a></li>
<li class="toctree-l2"><a class="reference internal" href="concept.html#visibility-to-users-and-programmers">Visibility to users and programmers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="data.html#entity">Entity</a></li>
<li class="toctree-l2"><a class="reference internal" href="data.html#rotamer-library">Rotamer library</a></li>
<li class="toctree-l2"><a class="reference internal" href="data.html#distance-distribution-restraints">Distance distribution restraints</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="docs.html">Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="docs.html#concept">Concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="docs.html#automation">Automation</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MMMx</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Control files</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="control-files">
<span id="id1"></span><h1>Control files<a class="headerlink" href="#control-files" title="Permalink to this headline">¶</a></h1>
<div class="section" id="concept">
<h2>Concept<a class="headerlink" href="#concept" title="Permalink to this headline">¶</a></h2>
<p>Modelling with MMMx can be performed either from the command line or from inside the GUI using the <code class="docutils literal notranslate"><span class="pre">MMModel</span></code> function.
<code class="docutils literal notranslate"><span class="pre">MMModel</span></code> accepts a single parameter, which is the file name of a control file:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">exceptions</span> <span class="p">=</span> <span class="n">MMModel</span><span class="p">(</span><span class="n">control_file</span><span class="p">)</span>
<span class="p">[</span><span class="n">exceptions</span><span class="p">,</span><span class="n">entity</span><span class="p">]</span> <span class="p">=</span> <span class="n">MMModel</span><span class="p">(</span><span class="n">control_file</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">control_file</span></code> - MMMx control file as described below</p></li>
</ul>
</dd>
<dt>Returns</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">exceptions</span></code> - error message (cell array with MException objects for warnings or errors)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">entity</span></code>     - MMMx entity containing the model, may be populated by only some of the <a class="reference internal" href="modelling_modules.html#modelling-modules"><span class="std std-ref">modelling modules</span></a></p></li>
</ul>
</dd>
</dl>
<p>When MMModel is activated from the GUI, the control file can be selected with a file browser and exceptions are reported through the status text field of the GUI.</p>
<p>The control file can have any extension. If it has none and the file without extension canno be opened, MMMx tries with appended extension <code class="docutils literal notranslate"><span class="pre">.mxc</span></code>.</p>
<p>Any call to MMModel generates a <a class="reference internal" href="log_files.html#log-files"><span class="std std-ref">log file</span></a>. The default file name is <code class="docutils literal notranslate"><span class="pre">MMModel_yyyy_mm_dd_HH_MM.log</span></code>, where <code class="docutils literal notranslate"><span class="pre">yyyy</span></code>, <code class="docutils literal notranslate"><span class="pre">mm</span></code>, <code class="docutils literal notranslate"><span class="pre">dd</span></code>, <code class="docutils literal notranslate"><span class="pre">HH</span></code>, <code class="docutils literal notranslate"><span class="pre">MM</span></code>
specify the year, month, day, hour, and minute of the starting time of <code class="docutils literal notranslate"><span class="pre">MMModel</span></code>. A different log file name can be specified in the control file.</p>
<p>Further output files may be generated depending on the <a class="reference internal" href="modelling_modules.html#modelling-modules"><span class="std std-ref">modelling modules</span></a> that are called in the control file.</p>
<p>The control file specifies a modelling task by a sequence of module calls, each having its own run options and list of restraints.
Where possible, MMMx checks whether restraints in a sequence of module calls are consistent.</p>
</div>
<div class="section" id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<p>The syntax of MMMx control files is akin of the syntax of MMM restraint files, but MMM restraint files cannot be used without editing as MMMx control files.
Keywords are case-insensitive. Empty lines are allowed.</p>
<p>The MMMx control file consists of blocks corresponding to individual <a class="reference internal" href="modelling_modules.html#modelling-modules"><span class="std std-ref">modelling modules</span></a>. Outside such blocks, keywords for input and output are supported.
Keywords outside of blocks have the form <code class="docutils literal notranslate"><span class="pre">#</span></code> <em>keyword</em>.</p>
<p>Comments are initiated by <code class="docutils literal notranslate"><span class="pre">%</span></code> and can appear anywhere. The rest of the line after a <code class="docutils literal notranslate"><span class="pre">%</span></code> character is ignored.</p>
<p>Module blocks are opened by <code class="docutils literal notranslate"><span class="pre">!</span></code><em>module</em>, where <em>module</em> is the name of the <a class="reference internal" href="modelling_modules.html#modelling-modules"><span class="std std-ref">modelling module</span></a>. They are closed by <code class="docutils literal notranslate"><span class="pre">.</span></code><em>module</em>.
If a new block is opened or the file ends before the closing line of a block, <code class="docutils literal notranslate"><span class="pre">MMModel</span></code> proceeds, but raises a warning.</p>
<p>The syntax</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">!</span></code><em>module</em> [<em>entity_1</em> [<em>entity_2</em>] …]</p>
</div>
<p>passes entities to the module, where <em>entity_1</em>, <em>entity_2</em> etc. are entity numbers. By default, a module requiring one entity will be passed the last entity that was used or generated.</p>
<p>The syntax</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">.</span></code><em>module</em> [<em>entity_1</em> [<em>entity_2</em>] …]</p>
</div>
<p>passes entities from the module to <code class="docutils literal notranslate"><span class="pre">MMModel</span></code>, where <em>entity_1</em>, <em>entity_2</em> etc. are internal entity numbers.</p>
<p>The control file ends with a <code class="docutils literal notranslate"><span class="pre">#end</span></code> statement. If it is missing, MMMx raises a warning. All lines after an <code class="docutils literal notranslate"><span class="pre">#end</span></code> statement are ignored.</p>
<p>Each module can define its own keywords for restraint specification and run options. In principle, the same keyword can be used with different meanings in different modules, except for restraint keywords.
However, such practice is discouraged.
Keywords inside blocks must be indented by at least two spaces. If a keyword initiates a block of restraint lines, the restraint lines must be indented by at least two spaces with respect to this keyword.
It is allowed and good practice to end such a block with <code class="docutils literal notranslate"><span class="pre">.</span></code> <em>keyword</em>.</p>
</div>
<div class="section" id="input-and-output-specification">
<h2>Input and output specification<a class="headerlink" href="#input-and-output-specification" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">#logfile</span></code> <em>logname</em>  % name of the logfile</p>
<p><code class="docutils literal notranslate"><span class="pre">#getpdb</span></code>  <em>pdbfile</em> [<em>number</em>] % fetch entity <em>number</em> from the PDB server or from a local file</p>
<p><code class="docutils literal notranslate"><span class="pre">#putpdb</span></code>  <em>pdbfile</em> [<em>number</em>] [<em>old_chain_id</em>&gt;<em>new_chain_id</em>] % saves entity <em>number</em> to local file</p>
</div>
<p>If the <em>number</em>  parameter is missing, <code class="docutils literal notranslate"><span class="pre">getpdb</span></code> assigns the next available number and <code class="docutils literal notranslate"><span class="pre">putpdb</span></code> saves the entity with the highest number.</p>
<p><code class="docutils literal notranslate"><span class="pre">#putpdb</span></code> can rename several chains, i.e., there may be as many <em>old_chain_id</em>&gt;<em>new_chain_id</em> arguments as needed,
where <em>old_chain_id</em> is a chain identifier in the saved entity and <em>new_chain_id</em> the identifier to be used for this chain in the output PDB file.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">#putpdb</span> <span class="pre">PTB1_EMCVIRES_test.pdb</span> <span class="pre">P&gt;A</span> <span class="pre">R&gt;B</span></code></p>
<p>rename chain P to A and chain R to B upon saving. As the second argument is a string,
MMModel recognizes that the number is missing and saves the current entity.</p>
</div>
<div class="section" id="restraint-specification">
<h2>Restraint specification<a class="headerlink" href="#restraint-specification" title="Permalink to this headline">¶</a></h2>
<p>The following restraint formats apply to all modules. There can be multiple blocks of restraints of the same type within the same module section.
Please note that there may be additional module-specific restraint types that are explained in keyword specifications of the <a class="reference internal" href="modelling_modules.html#modelling-modules"><span class="std std-ref">modelling modules</span></a>.</p>
<p>Some modules may support for some restraints the <code class="docutils literal notranslate"><span class="pre">-monitor</span></code> option. Restraints with this option are not actively fitted,
but it is checked, how well they fit.
For blocks of restraints, <code class="docutils literal notranslate"><span class="pre">-monitor</span></code> is specified for individual restraints (lines inside the block).</p>
<p><strong>Distance distribution restraints</strong></p>
<p>Keyword: <code class="docutils literal notranslate"><span class="pre">ddr</span></code>  Legacy keyword: <code class="docutils literal notranslate"><span class="pre">deer</span></code></p>
<p>The distance unit is <strong>Angstroem</strong>.</p>
<p>Syntax:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">ddr</span></code> <em>label_1</em> [<em>label_2</em>] [-permute]</p>
<blockquote>
<div><p><em>site_1</em> <em>site_2</em> <em>&lt;r1&gt;</em> <em>fwhm1</em> [<em>pop1</em> <em>&lt;r2&gt;</em> <em>fwhm2</em> …] <code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">example</span> <span class="pre">for</span> <span class="pre">(multi)Gaussian</span> <span class="pre">restraints</span></code></p>
<p><em>site_1</em> <em>site_2</em> <code class="docutils literal notranslate"><span class="pre">-lb</span></code> <em>lower_bound</em> <code class="docutils literal notranslate"><span class="pre">-ub</span></code> <em>upper_bound</em> <code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">example</span> <span class="pre">for</span> <span class="pre">lower-bound/upper-bound</span> <span class="pre">restraints</span></code></p>
<p><em>site_1</em> <em>site_2</em> <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> <em>distribution_data</em> <code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">example</span> <span class="pre">for</span> <span class="pre">parameter-free</span> <span class="pre">distributions</span></code></p>
<p><em>site_1</em> <em>site_2</em> <code class="docutils literal notranslate"><span class="pre">-rice</span></code> <em>&lt;r1&gt;</em> <em>fwhm1</em> [<em>pop1</em> <em>&lt;r2&gt;</em> <em>fwhm2</em> …] <code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">example</span> <span class="pre">for</span> <span class="pre">(multi)Rice</span> <span class="pre">restraints</span></code></p>
<p><em>site_1</em> <em>site_2</em> <code class="docutils literal notranslate"><span class="pre">-skew</span></code> <em>&lt;r&gt;</em> <em>fwhm</em> <em>skewness</em> <code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">example</span> <span class="pre">for</span> <span class="pre">skew</span> <span class="pre">Gauss</span> <span class="pre">restraints</span></code></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">.ddr</span></code></p>
</div>
<p>Each combination of label types at the two sites requires its own <code class="docutils literal notranslate"><span class="pre">ddr</span></code> block. If both sites are labeled with the same label, it is sufficient to specify it once.
Possible label types <em>label_1</em> and <em>label_2</em> correspond to existing <a class="reference internal" href="rotamer_concept.html#label-set"><span class="std std-ref">rotamer libraries</span></a>.
The syntax <code class="docutils literal notranslate"><span class="pre">atom.&lt;atname&gt;</span></code> specifies an atom, for instance, <code class="docutils literal notranslate"><span class="pre">atom.CA</span></code> the CA atom of the addressed site.</p>
<p>If option <code class="docutils literal notranslate"><span class="pre">-permute</span></code> is present, labels 1 and 2 are attached to sites 1 and 2 in both bossible permutations.</p>
<p>The two labelled sites are specified by <a class="reference internal" href="MMMx_addresses.html#mmmx-addresses"><span class="std std-ref">MMMx residue addresses</span></a> <em>site_1</em> and <em>site_2</em> .
These addresses must refer to either a residue in an entity passed to the module or to a residue generated by the module.</p>
<p>For a single Gaussian restraint, the mean value <em>&lt;r1&gt;</em> and full width at half maximum <em>fwhm1</em> need to be specified.
For multi-Gaussian restraints, populations <em>pop1</em>, <em>pop2</em>, … need to be specified, except for the last component (the populations add to 1).</p>
<p>Upper/lower bound restraints require the option specifiers <code class="docutils literal notranslate"><span class="pre">-lb</span></code> and <code class="docutils literal notranslate"><span class="pre">ub</span></code>. These are hard restraints. Conformers are rejected, if the simulated distance is outside bounds.
Use distributions if you expect that some restraints may be violated.</p>
<p>Parameter-free distributions require an ASCII data file with name <em>distribution_data</em>.dat (extension may be included) that has at least two columns. The first column is the distance axis (Angstroem units) and the second column is the probability per distance bin.
We advise to provide lower and upper confidence limits for the bin probabilities in columns 3 and 4. White space between <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> and <em>distribution_data</em> is allowed, but not required.
Bin probabilities are automatically normalized to unity sum.</p>
<p>(Multi)-Rice distributions require the option specifier <code class="docutils literal notranslate"><span class="pre">-rice</span></code>. Otherwise they work line (multi)-Gaussian distributions.</p>
<p>Skew Gauss distribution restraints require the option specifier <code class="docutils literal notranslate"><span class="pre">-skew</span></code>. Only a single skew distribution is supported.</p>
<p>Note that you can provide any parametrized distance distribution by first converting it to a binned distance distribution and saving it as <em>distribution_data</em>.dat.
However, for parametrized models that are supported, it is more transparent to specify the restraints by the parameters.</p>
<p><strong>Symmetry-related distance distribution restraints</strong></p>
<p>Symmetry constraints are specified at restraint level, because they may refer to only part of an entity.
In combination with distribution restraints, this choice allows for symmetry disorder.</p>
<p>Keyword: <code class="docutils literal notranslate"><span class="pre">ddr_sym</span></code>  Legacy keyword: <code class="docutils literal notranslate"><span class="pre">oligomer</span></code></p>
<p>The distance unit is <strong>Angstroem</strong>.</p>
<p>Syntax:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">ddr_sym</span></code> <em>label</em> <em>n</em> [<em>ox</em> <em>oy</em> <em>oz</em> [<em>dx</em> <em>dy</em> <em>dz</em>]] [<code class="docutils literal notranslate"><span class="pre">-all</span></code>]</p>
<blockquote>
<div><p><em>site</em> <em>&lt;r1&gt;</em> <em>fwhm1</em> [<em>pop1</em> <em>&lt;r2&gt;</em> <em>fwhm2</em> …] <code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">example</span> <span class="pre">for</span> <span class="pre">(multi)Gaussian</span> <span class="pre">restraints</span></code></p>
<p><em>site</em> <code class="docutils literal notranslate"><span class="pre">-lb</span></code> <em>lower_bound</em> <code class="docutils literal notranslate"><span class="pre">-ub</span></code> <em>upper_bound</em> <code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">example</span> <span class="pre">for</span> <span class="pre">lower-bound/upper-bound</span> <span class="pre">restraints</span></code></p>
<p><em>site</em> <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> <em>distribution_data</em> <code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">example</span> <span class="pre">for</span> <span class="pre">parameter-free</span> <span class="pre">distributions</span></code></p>
<p><em>site</em> <code class="docutils literal notranslate"><span class="pre">-rice</span></code> <em>&lt;r1&gt;</em> <em>fwhm1</em> [<em>pop1</em> <em>&lt;r2&gt;</em> <em>fwhm2</em> …] <code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">example</span> <span class="pre">for</span> <span class="pre">(multi)Rice</span> <span class="pre">restraints</span></code></p>
<p><em>site</em> <code class="docutils literal notranslate"><span class="pre">-skew</span></code> <em>&lt;r&gt;</em> <em>fwhm</em> <em>skewness</em> <code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">example</span> <span class="pre">for</span> <span class="pre">skew</span> <span class="pre">Gauss</span> <span class="pre">restraints</span></code></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">.ddr_sym</span></code></p>
</div>
<p>Only one labeling site is specified. The second site is generated by a rotation by an angle 360°/<em>n</em> about a C<sub>n</sub> (<em>n</em>-fold) rotation axis.
In all-distances mode, specified by the option <code class="docutils literal notranslate"><span class="pre">-all</span></code>, all <em>n(n-1)/2</em> pairs between the <em>n</em> label positions are considered.
Otherwise, only the modal distance (side length of the <em>n</em> -gon) is considered (default). For <em>n</em> = 2 and <em>n</em> = 3, option <code class="docutils literal notranslate"><span class="pre">-all</span></code> has no effect.</p>
<p>By default, the rotation axis is a <em>z</em> axis passing through the origin of the coordinate frame of the entity.
It is possible to specify a point on the rotation axis by coordinates <em>ox</em>, <em>oy</em>, and <em>oz</em>
as well as a direction of the rotation axis by coordinates <em>dx</em>, <em>dy</em>, and <em>dz</em>.</p>
<p>Apart from specification of only one site, restraint lines have the same syntax as in <code class="docutils literal notranslate"><span class="pre">ddr</span></code> blocks.</p>
<p><strong>Paramagnetic relaxation enhancement (PRE) restraints</strong></p>
<p>Keyword: <code class="docutils literal notranslate"><span class="pre">pre</span></code></p>
<p>The distance unit is <strong>Angstroem</strong>.</p>
<p>Syntax:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">pre</span></code> <em>label</em> <em>atom</em> [<em>taui</em> [<em>taur</em> [<em>taus</em>]]]</p>
<blockquote>
<div><p><em>site_1</em> <em>site_2</em> <em>ratio</em> <code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">example</span> <span class="pre">for</span> <span class="pre">ratio</span> <span class="pre">Ipara/Idia</span></code></p>
<p><em>site_1</em> <em>site_2</em> <code class="docutils literal notranslate"><span class="pre">-Gamma2</span></code> <em>Gamma2</em> <code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">example</span> <span class="pre">transverse</span> <span class="pre">relaxation</span> <span class="pre">enhancement</span></code></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">.pre</span></code></p>
</div>
<p>Possible spin label types <em>label</em> correspond to existing <a class="reference internal" href="rotamer_concept.html#label-set"><span class="std std-ref">rotamer libraries</span></a>. If the entity has explicit protons, they can be specified by <em>atom</em>.
Otherwise, the heavy atom, for instance <img class="math" src="_images/math/3c01db19d2bea9adb52e8e0b68b2983f852ba49a.svg" alt="N"/> for a backbone NH atom should be specified. MMMx will attempt to generate the proton position.</p>
<p>Correlation times can be provided as additional arguments. The default for the correlation time of internal motion (<em>taui</em>) is 250 ps,
the one for global tumbling of the protein (<em>taur</em>) 3 ns, and the one for spin label relaxation (<em>taus</em>) 1 <img class="math" src="_images/math/fcd01bdc1a3b5e443eacc89a68da6b9dcadf3c35.svg" alt="\mu"/>s.</p>
<p>The experimental restraints can be specified either by the intensity <em>ratio</em> between the paramagnetically and diamagnetically labelled sample or by the transverse relaxation enhancement rate <em>Gamma2</em>.</p>
<p><strong>SAXS restraints</strong></p>
<p>Small-angle x-ray scattering fits can be specified for the whole entity or for a subset of chains.</p>
<p>Syntax:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">saxs</span></code> <em>saxs_data</em> [<em>sm</em>] [<code class="docutils literal notranslate"><span class="pre">-v3</span></code>]</p>
<blockquote>
<div><p><em>chain_1</em> [<em>chain_2</em> …]</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">.saxs</span></code></p>
</div>
<p>Usually, SAXS restraints are specified by a single line, giving only the file name of the SAXS data and optionally a maximum scattering vector <em>sm</em> for fitting till <em>sm</em>.
SAXS fitting in MMMx uses <a class="reference external" href="https://www.embl-hamburg.de/biosaxs/manuals/crysol.html">crysol</a> of the ATSAS package. Option <code class="docutils literal notranslate"><span class="pre">-v3</span></code> specifies that <a class="reference external" href="https://www.embl-hamburg.de/biosaxs/manuals/crysol3.html">crysol3</a> is used instead.
It is possible to specify only a subset of the chains of an enity for SAXS fitting.
For this, <code class="docutils literal notranslate"><span class="pre">saxs</span></code> is used as a block restraint with a single additional line that specifies the included chains by <a class="reference internal" href="MMMx_addresses.html#mmmx-addresses"><span class="std std-ref">MMMx chain addresses</span></a>.</p>
<p><strong>SANS restraints</strong></p>
<p>Small-angle neutron scattering fits can be specified for the whole entity or for a subset of chains.
If an experimental selection of part of the entity was made by contrast matching,
it is better to specify the deuterium content in the buffer than to specify the selected chains.</p>
<p>Syntax:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">sans</span></code> <em>sans_data</em> [<em>illres</em> [<code class="docutils literal notranslate"><span class="pre">*D2O*</span></code>]]</p>
<blockquote>
<div><p><em>chain_1</em> [<em>chain_2</em> …]</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">.sans</span></code></p>
</div>
<p>Usually, SANS restraints are specified by a single line, giving only the file name of the SANS data and optionally the name of a resolution file,
a fraction of D<sub>2</sub>O in the solution.
If the second argument is a number instead of a string, it is interpreted as D<sub>2</sub>O content and the resolution file is considered to be missing (a warning is raised).</p>
<p>SAXS fitting in MMMx uses <a class="reference external" href="https://www.embl-hamburg.de/biosaxs/manuals/cryson.html">cryson</a> of the ATSAS package.
It is possible to specify only a subset of the chains of an enity for SANS fitting.
For this, <code class="docutils literal notranslate"><span class="pre">sans</span></code> is used as a block restraint with a single additional line that specifies the included chains by <a class="reference internal" href="MMMx_addresses.html#mmmx-addresses"><span class="std std-ref">MMMx chain addresses</span></a>.</p>
<p><strong>Crosslink restraints</strong></p>
<p>Crosslink restraints can be specified as a fraction of potentially crosslinkable residue pairs that are sufficiently close to be actually crosslinked.
The maximum distance (in Angstroem) and fraction (0… 1) apply to all crosslinks in one block.</p>
<p>Syntax:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">crosslink</span></code> <em>maxdist</em> <em>fraction</em> [<em>atom_a</em> [<em>atom_b</em>]]</p>
<blockquote>
<div><p><em>site_1_a</em> <em>site_1_b</em></p>
<p><em>site_2_a</em> <em>site_2_b</em></p>
<p>…</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">.crosslink</span></code></p>
</div>
<p>The distance is measured between CA atoms, unless the atom types in sites a and b of the crosslink are specified.
The <code class="docutils literal notranslate"><span class="pre">crosslink</span></code> line is followed by <em>x</em> lines specifying individual pairs of residues for which crosslinks were found.
The two linked sites are specified by <a class="reference internal" href="MMMx_addresses.html#mmmx-addresses"><span class="std std-ref">MMMx residue addresses</span></a></p>
<p>A conformer is rejected if more than <em>fraction</em>·<em>x</em> of the addressed atom pairs have a larger distance than <em>maxdist</em>.</p>
<p><strong>Immersion depth restraints</strong></p>
<p>The depth of immersion of sites into a lipid bilayer can be specified with this restraint.</p>
<p>Syntax:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">depth</span></code> <em>label</em> [<em>ox</em> <em>oy</em> <em>oz</em> [<em>dx</em> <em>dy</em> <em>dz</em>]]</p>
<blockquote>
<div><p><em>site</em> <em>&lt;r&gt;</em> <em>fwhm</em> <code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">example</span> <span class="pre">for</span> <span class="pre">Gaussian</span> <span class="pre">restraints</span></code></p>
<p><em>site</em> <code class="docutils literal notranslate"><span class="pre">-lb</span></code> <em>lower_bound</em> <code class="docutils literal notranslate"><span class="pre">-ub</span></code> <em>upper_bound</em> <code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">example</span> <span class="pre">for</span> <span class="pre">lower-bound/upper-bound</span> <span class="pre">restraints</span></code></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">.depth</span></code></p>
</div>
<p>The depth is measured as a distance from the center plane of the bilayer, i.e., large values correspond to low immersion depth or even positions outside the bilayer.</p>
<p>Possible label types <em>label</em> correspond to existing <a class="reference internal" href="rotamer_concept.html#label-set"><span class="std std-ref">rotamer libraries</span></a>.
The syntax <code class="docutils literal notranslate"><span class="pre">atom.&lt;atname&gt;</span></code> specifies an atom, for instance, <code class="docutils literal notranslate"><span class="pre">atom.CA</span></code> the CA atom of the addressed site.</p>
<p>For a Gaussian restraint, the mean value <em>&lt;r&gt;</em> and full width at half maximum <em>fwhm</em> need to be specified.
Upper/lower bound restraints require the option specifiers <code class="docutils literal notranslate"><span class="pre">-lb</span></code> and <code class="docutils literal notranslate"><span class="pre">ub</span></code>. These are hard restraints.
Conformers are rejected, if the simulated distance is outside bounds. Use distributions if you expect that some restraints may be violated.</p>
<p>By default, the bilayer normal is assumed to be the <em>z</em> axis and the center plane is assumed to pass through <em>z</em> = 0 of the coordinate frame of the entity.
It is possible to specify a point on the center plane by coordinates <em>ox</em>, <em>oy</em>, and <em>oz</em> and the direction of the bilayer normal by coordinates <em>dx</em>, <em>dy</em>, and <em>dz</em>.</p>
<p><strong>Secondary structure and cis peptide propensities</strong></p>
<p>The keywords <code class="docutils literal notranslate"><span class="pre">alpha</span></code>, <code class="docutils literal notranslate"><span class="pre">beta</span></code>, <code class="docutils literal notranslate"><span class="pre">polypro</span></code>, and <code class="docutils literal notranslate"><span class="pre">cis</span></code> allow to specify propensities at a residue to adopt <img class="math" src="_images/math/108eadc3411b115de07d6fed1e21becdcfbf8a1a.svg" alt="{\alpha}"/>-helix, <img class="math" src="_images/math/731d0b74ca4cb889f6c344dcb1e0b97b0efb39e4.svg" alt="{\beta}"/>-strand, polyproline-helix, or cis-peptide backbone torsion angles.
The following example is for <img class="math" src="_images/math/108eadc3411b115de07d6fed1e21becdcfbf8a1a.svg" alt="{\alpha}"/>-helix propensities.</p>
<p>Syntax:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">alpha</span></code></p>
<blockquote>
<div><p><em>site</em> <em>propensity</em> <code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">example</span> <span class="pre">for</span> <span class="pre">a</span> <span class="pre">single</span> <span class="pre">site</span></code></p>
<blockquote>
<div><p><em>site_1</em><code class="docutils literal notranslate"><span class="pre">-</span></code><em>site_2</em> <em>propensity</em> <code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">example</span> <span class="pre">for</span> <span class="pre">a</span> <span class="pre">range</span> <span class="pre">of</span> <span class="pre">residues</span></code></p>
</div></blockquote>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">.alpha</span></code></p>
</div>
<p>The sites <em>site</em>, &amp;site_1*, and <em>site_2</em> are specified by <a class="reference internal" href="MMMx_addresses.html#mmmx-addresses"><span class="std std-ref">MMMx residue addresses</span></a> and <em>propensity</em>  is a value between 0 and 1.
Use the range syntax with propensity 1 to strictly enforce secondary structure for a certain section of residues.</p>
<p>Specifying propensities instead of physical ensemble mean restraints related to them (e.g. NMR chemical shifts and residual dipolar couplings)
is prefereable in ensemble building, as it allows to adapt backbone torsions statistics, which in turn improves sampling of suitable conformations.</p>
<p>In ensemble fitting, it is advisable to specify restraints as close as possible to primary experimental data.</p>
<p><strong>Rigid bodies</strong></p>
<p>In general, a rigid body can comprise one or more sections of one or more macromolecular chains, as well as cofactors or other ligands.
Builder modules, such as <code class="docutils literal notranslate"><span class="pre">Rigi</span></code>, may require that the complete chain behaves as a rigid body. Template entities have to be prepared to ensure this.</p>
<p>Syntax:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">rigid</span></code> <em>section_1</em> [<em>section_2</em> […]]</p>
<blockquote>
<div><p><em>refsite_1</em> <em>reflabel_1</em> <code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">origin</span></code></p>
<p><em>refsite_2</em> <em>reflabel_2</em> <code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">point</span> <span class="pre">on</span> <span class="pre">*x*</span> <span class="pre">axis</span></code></p>
<p><em>refsite_3</em> <em>reflabel_3</em> <code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">point</span> <span class="pre">in</span> <span class="pre">*xy*</span> <span class="pre">plane</span></code></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">.rigid</span></code></p>
</div>
<p>Rigid bodies are internally numbered in the sequence of the corresponding <code class="docutils literal notranslate"><span class="pre">rigid</span></code> blocks. This numbering is internal to a module.</p>
<p>The section specifiers <em>section_1</em>, <em>section_2</em>, … are <a class="reference internal" href="MMMx_addresses.html#mmmx-addresses"><span class="std std-ref">MMMx chain or residue-range addresses</span></a>, such as <code class="docutils literal notranslate"><span class="pre">(B)</span></code> or <code class="docutils literal notranslate"><span class="pre">(C)58-123</span></code>.</p>
<p>The three reference sites <em>refsite_1</em>, <em>refsite_2</em>. and <em>refsite_3</em> are obligatory and should not be situated on a line.
They specify a local frame and can be used for computing rigid-body arrangements by distance geometry.</p>
<p>The labels <em>reflabel_1</em>, <em>reflabel_2</em>, and <em>reflabel_3</em> either correspond to existing <a class="reference internal" href="rotamer_concept.html#label-set"><span class="std std-ref">rotamer libraries</span></a> or
have the syntax <code class="docutils literal notranslate"><span class="pre">atom.&lt;atname&gt;</span></code>. The latter syntax specifies an atom, for instance, <code class="docutils literal notranslate"><span class="pre">atom.CA</span></code> the CA atom of the reference site.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="log_files.html" class="btn btn-neutral float-right" title="Log files" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="MMMx_RigiFlex.html" class="btn btn-neutral float-left" title="MMMx|RigiFlex" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020-, Gunnar Jeschke

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>