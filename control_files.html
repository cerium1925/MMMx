

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Control files &mdash; MMMx  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="/source/_static/custom.css" type="text/css" />
  <link rel="stylesheet" href="/source/_static/theme_override.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  <link rel="stylesheet" href="_static/table_util.css" type="text/css" />
  <link rel="stylesheet" href="_static/table_main.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_override.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Log files" href="log_files.html" />
    <link rel="prev" title="MMMx|RigiFlex" href="MMMx_RigiFlex.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Ensemble structure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="functional_entity.html">Functional entity</a><ul>
<li class="toctree-l2"><a class="reference internal" href="functional_entity.html#the-object-of-interest">The object of interest</a></li>
<li class="toctree-l2"><a class="reference internal" href="functional_entity.html#structural-hierarchy">Structural hierarchy</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="structure_representation.html">Structure representation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="structure_representation.html#protein-database-pdb-format">Protein database (PDB) format</a></li>
<li class="toctree-l2"><a class="reference internal" href="structure_representation.html#pdbx-mmcif-format">PDBx/mmCIF format</a></li>
<li class="toctree-l2"><a class="reference internal" href="structure_representation.html#mmmx-internal-representations">MMMx internal representations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="MMMx_addresses.html">Selection by address</a><ul>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#topology-and-ensemble-addressing">Topology and ensemble addressing</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#chains">Chains</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#residues">Residues</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#atoms">Atoms</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#water-molecules">Water molecules</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#conformers">Conformers</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#rotamers">Rotamers</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#locations">Locations</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#programmatic-access">Programmatic access</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#changes-compared-to-mmm">Changes compared to MMM</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#correspondence-with-chimerax">Correspondence with ChimeraX</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="MMMx_atomic.html">MMMx|atomic</a><ul>
<li class="toctree-l2"><a class="reference internal" href="MMMx_atomic.html#basic-considerations">Basic considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_atomic.html#topology">Topology</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_atomic.html#conformation">Conformation</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_atomic.html#element-assignment-of-atoms">Element assignment of atoms</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_atomic.html#conversion-to-pdb-representation">Conversion to PDB representation</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_atomic.html#conversion-from-pdb-representation">Conversion from PDB representation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="MMMx_RigiFlex.html">MMMx|RigiFlex</a><ul>
<li class="toctree-l2"><a class="reference internal" href="MMMx_RigiFlex.html#basic-considerations">Basic considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_RigiFlex.html#format">Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_RigiFlex.html#conversion-to-mmmx-atomic-representation">Conversion to MMMx|atomic representation</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Modelling</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Control files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#concept">Concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="#syntax">Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="#input-and-output-specification">Input and output specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="#restraint-specification">Restraint specification</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="log_files.html">Log files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="log_files.html#concept">Concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="log_files.html#implementation">Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="log_files.html#the-get-label-function">The <code class="docutils literal notranslate"><span class="pre">get_label</span></code> function</a></li>
<li class="toctree-l2"><a class="reference internal" href="log_files.html#set-of-libraries">Set of libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="log_files.html#rotamer-library-format">Rotamer library format</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modelling_modules.html">Modelling modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="modelling_modules.html#concept">Concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="modelling_modules.html#implementation">Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="modelling_modules.html#the-get-label-function">The <code class="docutils literal notranslate"><span class="pre">get_label</span></code> function</a></li>
<li class="toctree-l2"><a class="reference internal" href="modelling_modules.html#set-of-libraries">Set of libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="modelling_modules.html#rotamer-library-format">Rotamer library format</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Spectroscopic labels</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="rotamer_concept.html">Rotamer libraries</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rotamer_concept.html#concept">Concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="rotamer_concept.html#implementation">Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="rotamer_concept.html#the-get-label-function">The <code class="docutils literal notranslate"><span class="pre">get_label</span></code> function</a></li>
<li class="toctree-l2"><a class="reference internal" href="rotamer_concept.html#set-of-libraries">Set of libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="rotamer_concept.html#rotamer-library-format">Rotamer library format</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="distance_distributions.html">Distance distributions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="distance_distributions.html#reasons-why-distances-are-distributed">Reasons why distances are distributed</a></li>
<li class="toctree-l2"><a class="reference internal" href="distance_distributions.html#computation-of-distance-distributions">Computation of distance distributions</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Programmer's Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="object_access.html">Get object attributes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="object_access.html#concept">Concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_access.html#generic-syntax">Generic syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_access.html#chain">Chain</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_access.html#residue">Residue</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_access.html#atoms">Atoms</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_access.html#locations">Locations</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_access.html#single-conformer">Single conformer</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_access.html#coordinates-atomic-numbers-any-level">Coordinates &amp; atomic numbers (any level)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="object_modification.html">Set object attributes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="object_modification.html#concept">Concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_modification.html#generic-syntax">Generic syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_modification.html#residue">Residue</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_modification.html#atoms">Atoms</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_modification.html#locations">Locations</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_modification.html#coordinates-any-level">Coordinates (any level)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="property_functions.html">Property functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="property_functions.html#mass">Mass</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ChimeraX.html">ChimeraX</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ChimeraX.html#remarks">Remarks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="python.html">Python</a><ul>
<li class="toctree-l2"><a class="reference internal" href="python.html#remarks">Remarks</a></li>
<li class="toctree-l2"><a class="reference internal" href="python.html#current-conclusion">Current conclusion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dependencies.html">Dependencies</a></li>
</ul>
<p class="caption"><span class="caption-text">Architecture</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="concept.html">Concept</a><ul>
<li class="toctree-l2"><a class="reference internal" href="concept.html#open-source-concept">Open source concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="concept.html#separation-of-user-interface-from-computation">Separation of user interface from computation</a></li>
<li class="toctree-l2"><a class="reference internal" href="concept.html#visibility-to-users-and-programmers">Visibility to users and programmers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="data.html#entity">Entity</a></li>
<li class="toctree-l2"><a class="reference internal" href="data.html#rotamer-library">Rotamer library</a></li>
<li class="toctree-l2"><a class="reference internal" href="data.html#distance-distribution-restraints">Distance distribution restraints</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="docs.html">Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="docs.html#concept">Concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="docs.html#automation">Automation</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MMMx</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Control files</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="control-files">
<span id="id1"></span><h1>Control files<a class="headerlink" href="#control-files" title="Permalink to this headline">¶</a></h1>
<div class="section" id="concept">
<h2>Concept<a class="headerlink" href="#concept" title="Permalink to this headline">¶</a></h2>
<p>Modelling with MMMx can be performed either from the command line or from inside the GUI using the <code class="docutils literal notranslate"><span class="pre">MMModel</span></code> function.
<code class="docutils literal notranslate"><span class="pre">MMModel</span></code> accepts a single parameter, which is the file name of a control file:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">exceptions</span> <span class="p">=</span> <span class="n">MMModel</span><span class="p">(</span><span class="n">control_file</span><span class="p">)</span>
<span class="p">[</span><span class="n">exceptions</span><span class="p">,</span><span class="n">entity</span><span class="p">]</span> <span class="p">=</span> <span class="n">MMModel</span><span class="p">(</span><span class="n">control_file</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">control_file</span></code> - MMMx control file as described below</p></li>
</ul>
</dd>
<dt>Returns</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">exceptions</span></code> - error message (cell array with MException objects for warnings or errors)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">entity</span></code>     - MMMx entity containing the model, may be populated by only some of the <a class="reference internal" href="modelling_modules.html#modelling-modules"><span class="std std-ref">modelling modules</span></a></p></li>
</ul>
</dd>
</dl>
<p>When MMModel is activated from the GUI, the control file can be selected with a file browser and exceptions are reported through the status text field of the GUI.</p>
<p>Any call to MMModel generates a <a class="reference internal" href="log_files.html#log-files"><span class="std std-ref">log file</span></a>. The default file name is <code class="docutils literal notranslate"><span class="pre">MMModel_yyyy_mm_dd_HH_MM.log</span></code>, where <code class="docutils literal notranslate"><span class="pre">yyyy</span></code>, <code class="docutils literal notranslate"><span class="pre">mm</span></code>, <code class="docutils literal notranslate"><span class="pre">dd</span></code>, <code class="docutils literal notranslate"><span class="pre">HH</span></code>, <code class="docutils literal notranslate"><span class="pre">MM</span></code>
specify the year, month, day, hour, and minute of the starting time of <code class="docutils literal notranslate"><span class="pre">MMModel</span></code>. A different log file name can be specified in the control file.</p>
<p>Further output files may be generated depending on the <a class="reference internal" href="modelling_modules.html#modelling-modules"><span class="std std-ref">modelling modules</span></a> that are called in the control file.</p>
<p>The control file specifies a modelling task by a sequence of module calls, each having its own run options and list of restraints.
Where possible, MMMx checks whether restraints in a sequence of module calls are consistent.</p>
</div>
<div class="section" id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<p>The syntax of MMMx control files is akin of the syntax of MMM restraint files, but MMM restraint files cannot be used without editing as MMMx control files.</p>
<p>The MMMx control file consists of blocks corresponding to individual <a class="reference internal" href="modelling_modules.html#modelling-modules"><span class="std std-ref">modelling modules</span></a>. Outside such blocks, keywords for input and output are supported.
Keywords outside of blocks have the form <code class="docutils literal notranslate"><span class="pre">#</span></code> <em>keyword</em>.</p>
<p>Comments are initiated by <code class="docutils literal notranslate"><span class="pre">%</span></code> and can appear anywhere. The rest of the line after a <code class="docutils literal notranslate"><span class="pre">%</span></code> character is ignored.</p>
<p>Module blocks are opened by <code class="docutils literal notranslate"><span class="pre">!</span></code> <em>module</em>, where <em>module</em> is the name of the <a class="reference internal" href="modelling_modules.html#modelling-modules"><span class="std std-ref">modelling module</span></a>. They are closed by <code class="docutils literal notranslate"><span class="pre">.</span></code> <em>module</em>.
If a new block is opened or the file ends before the closing line of a block, <code class="docutils literal notranslate"><span class="pre">MMModel</span></code> proceeds, but raises a warning.</p>
<p>The syntax</p>
<p><code class="docutils literal notranslate"><span class="pre">!</span></code> <em>module</em> [<em>entity_1</em> [<em>entity_2</em>] …] passes entities to the module, where <em>entity_1</em>, <em>entity_2</em> etc. are entity numbers. By default, a module requiring one entity will be passed the last entity that was used or generated.</p>
<p>The syntax</p>
<p><code class="docutils literal notranslate"><span class="pre">.</span></code> <em>module</em> [<em>entity_1</em> [<em>entity_2</em>] …] passes entities from the module to <code class="docutils literal notranslate"><span class="pre">MMModel</span></code>, where <em>entity_1</em>, <em>entity_2</em> etc. are internal entity numbers.</p>
<p>The control file ends with a <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">end</span></code> statement. If it is missing, MMMx raises a warning. All lines after an <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">end</span></code> statement are ignored.</p>
<p>Each module can define its own keywords for restraint specification and run options. In principle, the same keyword can be used with different meanings in different modules, except for restraint keywords.
However, such practice is discouraged.
Keywords inside blocks must be indented by at least two spaces. If a keyword initiates a block of restraint lines, the restraint lines must be indented by at least two spaces with respect to this keyword.
It is allowed and good practice to end such a block with <code class="docutils literal notranslate"><span class="pre">.</span></code> <em>keyword</em>.</p>
</div>
<div class="section" id="input-and-output-specification">
<h2>Input and output specification<a class="headerlink" href="#input-and-output-specification" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">logfile</span></code> <em>logname</em>  - name of the logfile, if present, first line of the control file</p>
<p><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">getpdb</span></code>  <em>pdbfile</em> [<em>number</em>] - fetches an entity from the PDB server or from a local file. <em>number</em> assigns an internal entity number (defaults to next available number)</p>
<p><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">putpdb</span></code>  <em>pdbfile</em> [<em>number</em>] - saves an entity to a local file. <em>number</em>  specifies the internal entity number (defaults to the last entity used or generated)</p>
</div>
<div class="section" id="restraint-specification">
<h2>Restraint specification<a class="headerlink" href="#restraint-specification" title="Permalink to this headline">¶</a></h2>
<p>Restraint format is the same for all modules.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="log_files.html" class="btn btn-neutral float-right" title="Log files" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="MMMx_RigiFlex.html" class="btn btn-neutral float-left" title="MMMx|RigiFlex" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020-, Gunnar Jeschke

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>