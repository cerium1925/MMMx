

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>MMMx|RigiFlex &mdash; MMMx  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="/source/_static/custom.css" type="text/css" />
  <link rel="stylesheet" href="/source/_static/theme_override.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  <link rel="stylesheet" href="_static/table_util.css" type="text/css" />
  <link rel="stylesheet" href="_static/table_main.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_override.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Get object attributes" href="object_access.html" />
    <link rel="prev" title="MMMx|atomic" href="MMMx_atomic.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Ensemble structure</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="functional_entity.html">Functional entity</a><ul>
<li class="toctree-l2"><a class="reference internal" href="functional_entity.html#the-object-of-interest">The object of interest</a></li>
<li class="toctree-l2"><a class="reference internal" href="functional_entity.html#structural-hierarchy">Structural hierarchy</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="structure_representation.html">Structure representation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="structure_representation.html#protein-database-pdb-format">Protein database (PDB) format</a></li>
<li class="toctree-l2"><a class="reference internal" href="structure_representation.html#pdbx-mmcif-format">PDBx/mmCIF format</a></li>
<li class="toctree-l2"><a class="reference internal" href="structure_representation.html#mmmx-internal-representations">MMMx internal representations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="MMMx_addresses.html">Selection by address</a><ul>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#topology-and-ensemble-addressing">Topology and ensemble addressing</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#chains">Chains</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#residues">Residues</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#atoms">Atoms</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#water-molecules">Water molecules</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#conformers">Conformers</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#rotamers">Rotamers</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#locations">Locations</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#programmatic-access">Programmatic access</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#changes-compared-to-mmm">Changes compared to MMM</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_addresses.html#correspondence-with-chimerax">Correspondence with ChimeraX</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="MMMx_atomic.html">MMMx|atomic</a><ul>
<li class="toctree-l2"><a class="reference internal" href="MMMx_atomic.html#basic-considerations">Basic considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_atomic.html#topology">Topology</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_atomic.html#conformation">Conformation</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_atomic.html#element-assignment-of-atoms">Element assignment of atoms</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_atomic.html#conversion-to-pdb-representation">Conversion to PDB representation</a></li>
<li class="toctree-l2"><a class="reference internal" href="MMMx_atomic.html#conversion-from-pdb-representation">Conversion from PDB representation</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">MMMx|RigiFlex</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basic-considerations">Basic considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#format">Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="#conversion-to-mmmx-atomic-representation">Conversion to MMMx|atomic representation</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Programmer's Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="object_access.html">Get object attributes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="object_access.html#concept">Concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_access.html#generic-syntax">Generic syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_access.html#chain">Chain</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_access.html#residue">Residue</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_access.html#atoms">Atoms</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_access.html#locations">Locations</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_access.html#coordinates-atomic-numbers-any-level">Coordinates &amp; atomic numbers (any level)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="property_functions.html">Property functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="property_functions.html#mass">Mass</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ChimeraX.html">ChimeraX</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ChimeraX.html#remarks">Remarks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="python.html">Python</a><ul>
<li class="toctree-l2"><a class="reference internal" href="python.html#remarks">Remarks</a></li>
<li class="toctree-l2"><a class="reference internal" href="python.html#current-conclusion">Current conclusion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dependencies.html">Dependencies</a></li>
</ul>
<p class="caption"><span class="caption-text">Architecture</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="concept.html">Concept</a><ul>
<li class="toctree-l2"><a class="reference internal" href="concept.html#open-source-concept">Open source concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="concept.html#separation-of-user-interface-from-computation">Separation of user interface from computation</a></li>
<li class="toctree-l2"><a class="reference internal" href="concept.html#visibility-to-users-and-programmers">Visibility to users and programmers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="data.html#entity">Entity</a></li>
<li class="toctree-l2"><a class="reference internal" href="data.html#rotamer-library">Rotamer library</a></li>
<li class="toctree-l2"><a class="reference internal" href="data.html#distance-distribution-restraints">Distance distribution restraints</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="docs.html">Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="docs.html#concept">Concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="docs.html#automation">Automation</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MMMx</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>MMMx|RigiFlex</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mmmx-rigiflex">
<span id="id1"></span><h1>MMMx|RigiFlex<a class="headerlink" href="#mmmx-rigiflex" title="Permalink to this headline">¶</a></h1>
<div class="section" id="basic-considerations">
<h2>Basic considerations<a class="headerlink" href="#basic-considerations" title="Permalink to this headline">¶</a></h2>
<p>Quite a few proteins contain <em>Anfinsen domains</em> that are ordered on the length scale of a fraction of a bond length. Usually these are small globular domains.</p>
<p>Representing such proteins in the <img class="math" src="_images/math/6b2af97fcfa74529ed5083dbb19a021c84092e5a.svg" alt="PDB"/> or <img class="math" src="_images/math/716e51206b8e70958a2c5fc12fa230aa3dfc00c3.svg" alt="MMMx|atomic"/> format has two disadvantages</p>
<ul class="simple">
<li><p>information on rigid-body character of these domains is lost</p></li>
<li><p>in large ensembles, unneccessary storage of many coordinates related by the same translation and rotation is wasteful</p></li>
</ul>
<p>As MMMx creates <em>RigiFlex</em> ensemble structures, where chains can be rigid bodies joint
by flexible linkers and rigid-body arrangement within a chain or between chains can be distributed, it makes sense to have a special representation.</p>
</div>
<div class="section" id="format">
<h2>Format<a class="headerlink" href="#format" title="Permalink to this headline">¶</a></h2>
<p>Flexible sections are treated as in the <img class="math" src="_images/math/716e51206b8e70958a2c5fc12fa230aa3dfc00c3.svg" alt="MMMx|atomic"/> format.</p>
<p>Each rigid body has its separate coordinate array, corresponding to its <em>reference position and orientation</em>.
In Matlab, these arrays are organized in a cell vector, which is a field <img class="math" src="_images/math/7bc92bd98bce13eb8a82f73662b82e8fb04c1ffa.svg" alt="rigidbodies"/> of the entity variable.</p>
<p>Rigid bodies can be named. For this, there is a cell vector of strings <img class="math" src="_images/math/84efe04a3412987a6d6c284f27b126fc913b80ff.svg" alt="rigidbody\_names"/> at entity level.</p>
<p>The topology variable has an additional field <img class="math" src="_images/math/cd534f97021fce7b257c533729f63fb33a4c917e.svg" alt="rigidbody"/> at residue level. The value is zero for residues in flexible sections.
Otherwise, it is the number of the rigid body, which is also the index into the cell vectors <img class="math" src="_images/math/7bc92bd98bce13eb8a82f73662b82e8fb04c1ffa.svg" alt="rigidbodies"/> and <img class="math" src="_images/math/84efe04a3412987a6d6c284f27b126fc913b80ff.svg" alt="rigidbody\_names"/>.</p>
<p>The rigid-body arrangement information stored at entity level in a field <img class="math" src="_images/math/a97f3b4f44aa9ce4c23bba723d4e2a2da34515b2.svg" alt="rba"/>.
For an entity with <img class="math" src="_images/math/a6cd42f3c73b87c01ae94649855f47147d9838d9.svg" alt="c"/> conformers, <img class="math" src="_images/math/a97f3b4f44aa9ce4c23bba723d4e2a2da34515b2.svg" alt="rba"/> is a <img class="math" src="_images/math/91436f8749b4e96878b136b4530e71b2b571e058.svg" alt="c \times 6"/> array <img class="math" src="_images/math/4367fe6b41225c17ea0e3328c4e84c9efe5df526.svg" alt="[\Delta x, \Delta y, \Delta z, \alpha, \beta, \gamma]"/>
where <img class="math" src="_images/math/aabd9922c2a0149b634b8625481730f7a8735ffa.svg" alt="\Delta x"/>, <img class="math" src="_images/math/23d84f860c5b1eeaa4edd733c14aab062193c2ac.svg" alt="\Delta y"/>, and <img class="math" src="_images/math/201a0350c3361142b7b7f58ef464ce30b6ec25e3.svg" alt="\Delta z"/> are Cartesian translations (in Angstroems) and <img class="math" src="_images/math/f36a3f8dbda6bea20079ecea63562c7932d00b1b.svg" alt="\alpha"/>, <img class="math" src="_images/math/0844943c9b878f5282b113981c85b336dad00b71.svg" alt="\beta"/>, and <img class="math" src="_images/math/79abaca49fa0abdf22896a6b9215086291b49718.svg" alt="\gamma"/> are Euler angles (<img class="math" src="_images/math/e91f30f28dab207734d79af6de90a5ed066d7bb2.svg" alt="zyz"/> convention) in radians.</p>
</div>
<div class="section" id="conversion-to-mmmx-atomic-representation">
<h2>Conversion to MMMx|atomic representation<a class="headerlink" href="#conversion-to-mmmx-atomic-representation" title="Permalink to this headline">¶</a></h2>
<p>In order to avoid information loss, the RigiFlex representation is converted to the atomic representation only on two occasions</p>
<ul class="simple">
<li><p>a method that can only process the atomic representation requests the entity</p></li>
<li><p>a PDB representation is required for file saving or transmission to ChimeraX</p></li>
</ul>
<p>In the latter case, the MMMx|atomic representation is only used in further expansion to the PDB representation.</p>
<p>Expansion from <img class="math" src="_images/math/0fa193622dfdab54daa20092340655c58f5f0e62.svg" alt="MMMx|RigiFlex"/> to <img class="math" src="_images/math/716e51206b8e70958a2c5fc12fa230aa3dfc00c3.svg" alt="MMMx|atomic"/> explicitly creates the atom coordinates for all rigid-body arrangements,
appends them to coordinate array <img class="math" src="_images/math/91bb7ebe5360f220c5ddca9f8a3cff6379617fe0.svg" alt="\mathbf{C}"/> and correspondingly amends the index array <img class="math" src="_images/math/3e96f1d3536f5bc432fbb8d17a3b199f92aacff3.svg" alt="\mathbf{I}_\mathrm{c}"/>.</p>
<p>The fields <img class="math" src="_images/math/7bc92bd98bce13eb8a82f73662b82e8fb04c1ffa.svg" alt="rigidbodies"/> and <img class="math" src="_images/math/84efe04a3412987a6d6c284f27b126fc913b80ff.svg" alt="rigidbody\_names"/> at entity level and <img class="math" src="_images/math/cd534f97021fce7b257c533729f63fb33a4c917e.svg" alt="rigidbody"/> at residue level are removed only upon request.
They allow for later back conversion, if, to a sufficiently good approximation, the domains moved as rigid bodies during
processing by the method that requested the atomic representation.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="object_access.html" class="btn btn-neutral float-right" title="Get object attributes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="MMMx_atomic.html" class="btn btn-neutral float-left" title="MMMx|atomic" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020-, Gunnar Jeschke

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>